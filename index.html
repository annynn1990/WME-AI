<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <title>é»ƒåå¸åœ‹ç›£æ§é¢æ¿</title>
    <style>
        body { background: #36393f; color: #fff; font-family: sans-serif; padding: 20px; }
        #status { background: #202225; padding: 10px; border-radius: 5px; border: 1px solid #444; margin-bottom: 10px; }
        #chat { background: #2f3136; height: 500px; overflow-y: auto; padding: 15px; border-radius: 8px; }
        .msg { border-bottom: 1px solid #40444b; padding: 10px 0; }
        .user { color: #f1c40f; font-weight: bold; }
    </style>
</head>
<body>
    <div id="status">æ­£åœ¨åŒæ­¥ï¼š#ğŸŒ´èŠå¤©å»£å ´...</div>
    <div id="chat">ç­‰å¾…è¨Šæ¯ä¸­...</div>

    <script>
        // ä½¿ç”¨ä½ æœ€æ–°çš„ Token åˆ†æ®µä¿è­·
        const a = 'MTQ3NjU4MTQxNTI4NTAzMTAwMw';
        const b = 'GM_-ZE';
        const c = 'DY-SiOtOFLSMs-mAVHrA5jyNixo9oapKNhfLD4';
        const auth = "Bot " + a + "." + b + "." + c; 
        const CH = '618042408764178436';

        async function fetchMsg() {
            try {
                const api = `https://discord.com/api/v10/channels/${CH}/messages?limit=10`;
                const res = await fetch(`https://api.allorigins.win/get?url=${encodeURIComponent(api)}`, {
                    headers: { 'x-proxy-headers': JSON.stringify({ 'Authorization': auth }) }
                });
                const wrapper = await res.json();
                const data = JSON.parse(wrapper.contents);

                if (Array.isArray(data)) {
                    document.getElementById('status').innerHTML = "âœ… é€£ç·šæˆåŠŸï¼šé»ƒåå¸åœ‹èŠå¤©å»£å ´";
                    document.getElementById('chat').innerHTML = data.reverse().map(m => `
                        <div class="msg"><span class="user">${m.author.username}</span>: ${m.content || '(åª’é«”)'}</div>
                    `).join('');
                } else {
                    document.getElementById('status').innerHTML = "âŒ æˆæ¬ŠéŒ¯èª¤ï¼šToken å·²å¤±æ•ˆæˆ– Intent æœªé–‹";
                }
            } catch (e) {
                document.getElementById('status').innerText = "ğŸ“¡ ç¶²è·¯è·³æ¿é€£æ¥ä¸­...";
            }
        }
        setInterval(fetchMsg, 5000);
        fetchMsg();
    </script>
</body>
</html>
